# ALS Assistant 前端使用指南

## 系统启动

### 1. 启动后端服务器
```bash
cd backend
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```
后端运行在: http://localhost:8000

### 2. 启动前端开发服务器
```bash
cd als-assistant-frontend
npm install  # 首次运行时安装依赖
npm run dev
```
前端运行在: http://localhost:5173

## 主要功能使用

### 1. Chat页面 (默认首页)

**触发对话的方式：**

#### 方式一：直接描述症状
- 在输入框中直接输入您的症状或问题
- 例如："我晚上呼吸困难" 或 "I have trouble with communication"
- 系统会自动路由到相关的PNM维度并开始针对性的评估

#### 方式二：从Data页面选择维度
- 进入"Results & Data"页面
- 鼠标悬停在任意PNM维度条上
- 点击"开始该维度问答"按钮
- 系统会跳转到Chat页面并开始该维度的评估

**回答问题的方式：**

1. **选择选项**：
   - 点击提供的选项按钮
   - 选中后会高亮显示
   - 点击"提交选中的选项"按钮

2. **自由输入**：
   - 直接在文本框输入您的回答
   - 按Ctrl+Enter或点击"发送"按钮

3. **混合回答**：
   - 先选择一个选项
   - 然后在文本框补充额外信息
   - 系统会合并两种输入

### 2. Results & Data页面

**八维度评分展示：**
- Physiological（生理）
- Safety（安全）
- Love & Belonging（爱与归属）
- Esteem（尊重）
- Self-Actualisation（自我实现）
- Cognitive（认知）
- Aesthetic（审美）
- Transcendence（超越）

**交互功能：**
- 悬停在维度条上显示"开始该维度问答"按钮
- 点击后直接进入该维度的评估对话
- 显示最近完成的评估术语和得分

### 3. Profile页面

**展示内容：**
- 完整的PNM评分档案
- 四个子维度得分（意识、理解、应对、行动）
- 个性化改进建议
- 评估历史记录

## 对话流程示例

### 示例1：呼吸问题评估
```
用户：我晚上呼吸困难，需要使用BiPAP
系统：[识别为Physiological-Breathing]
系统：在过去7天里，您是否有定期检查和维护您的呼吸设备？
用户：[选择选项或输入回答]
系统：[继续跟进问题...]
```

### 示例2：维度导向评估
```
1. 在Data页面点击"Safety"维度的"开始该维度问答"
2. 跳转到Chat页面
3. 系统：开始Safety维度的评估，询问应急准备相关问题
4. 用户回答问题
5. 系统提供个性化信息卡片
```

## 注意事项

1. **会话持久化**：系统会自动保存您的会话状态，刷新页面后可以继续
2. **清除会话**：如需重新开始，可以在浏览器开发者工具中清除localStorage
3. **跳过问题**：如果某个问题不适用，可以输入"跳过"或"不适用"
4. **信息卡片**：系统会根据您的回答提供相关的健康建议和资源链接

## 常见问题

**Q: 选择选项后没有反应？**
A: 选择选项后需要点击"提交选中的选项"按钮，或者直接在文本框输入并发送。

**Q: 如何开始新的评估？**
A: 直接在Chat页面输入新的症状描述，或从Data页面选择另一个维度。

**Q: 评分是如何计算的？**
A: 系统基于您的回答，从意识、理解、应对和行动四个维度进行评分，每个维度0-4分，总分0-16。

## 技术支持

如遇到问题，请检查：
1. 后端服务器是否正常运行（http://localhost:8000/health/readyz）
2. 前端开发服务器是否正常运行（http://localhost:5173）
3. 浏览器控制台是否有错误信息
4. 网络请求是否正常（F12开发者工具-Network标签）

---

系统版本：v2.0 - PNM Focus
最后更新：2025年8月25日